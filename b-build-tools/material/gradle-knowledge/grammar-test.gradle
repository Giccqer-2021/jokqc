String customMessage1 = 'ä½ å¥½æˆ‘æ˜¯javaè¯·å¤šæŒ‡æ•™ğŸ˜€' //è‡ªå®šä¹‰çš„å•è¡Œæ–‡æœ¬,åœ¨gradleä¸­æ‰€æœ‰çš„åˆ†å·éƒ½å¯ä»¥çœç•¥
def insertNumber = 7417417474741 //ä½¿ç”¨defè‡ªå®šä¹‰çš„longå‹(æ¨æ–­ç±»å‹)
//å°†ä¸Šlongç±»å‹å¯¹è±¡æ’å…¥ä¸‹æ–¹æ–‡æœ¬ä¸­,ä½¿ç”¨${}å ä½ç¬¦
def customMessage2 = "ä½ å¥½æˆ‘æ˜¯gradleè¯·å¤šæŒ‡æ•™ğŸ˜„,è¿™æ˜¯æˆ‘çš„ç”µè¯å·ç : ${insertNumber}" //ä½¿ç”¨defå®šä¹‰çš„GString
def customMessage3 = '''ä½ å¥½æˆ‘æ˜¯C++è¯·å¤šæŒ‡æ•™ğŸ˜
è¿™æ˜¯ä¸€æ¡å¤šè¡Œæ–‡æœ¬O(âˆ©_âˆ©)Oå“ˆå“ˆ~''' //ä½¿ç”¨ä¸‰ä¸ªå•å¼•å·åˆ›å»ºçš„å¤šè¡Œæ–‡æœ¬
//println customMessage1 + '\n' + customMessage2 + '\n' + customMessage3 //å†™åœ¨taskå¤–åˆ™è¯¥æ–¹æ³•æ— è®ºå¦‚ä½•éƒ½ä¼šæ‰§è¡Œ
tasks.register('printAllMessages') { //è‡ªå®šä¹‰çš„å¯æ‰§è¡Œçš„taskä»»åŠ¡
    //ä½¿ç”¨print()æ–¹æ³•è¾“å‡ºå­—ç¬¦ä¸².åœ¨gradleä¸­,è‹¥ä¸å¼•èµ·æ­§ä¹‰,æ‹¬å·()å¤§æ‹¬å·{}çš†å¯çœç•¥
    println customMessage1 + '\n' + customMessage2 + '\n' + customMessage3
}

ext { //åœ¨exté—­åŒ…ä¸­å®šä¹‰çš„å˜é‡ä¸ºå…¨å±€å˜é‡,å¯ä»¥å‘ä¸Šä¼ å¯¼è‡³build.gradleä¸­
    customMessage4 = "ä½ å¥½æˆ‘æ˜¯å…¨å±€å˜é‡è¯·å¤šæŒ‡æ•™ğŸ˜Š" //ä¸å¯ä»¥æ˜¾å¼å®šä¹‰è¯¥å˜é‡ç±»å‹,åœ¨extä¸­çš„å˜é‡é»˜è®¤æ˜¯åŠ¨æ€ç±»å‹
}

def numberList = [1, 2, 3] //å®šä¹‰ä¸€ä¸ªList,é»˜è®¤ç±»å‹æ˜¯ArrayList
numberList << 4 //ä½¿ç”¨<<å·å‘Listå°¾éƒ¨æ·»åŠ å…ƒç´ 
numberList -= 1 //ä½¿ç”¨-=å·ä»Listä¸­ç§»é™¤å…ƒç´ å€¼ä¸º1çš„å…ƒç´ 
//å®šä¹‰ä¸€ä¸ªMap,é»˜è®¤ç±»å‹æ˜¯LinkedHashMap
def personInfoMap = ['å§“å': 'ç‹å¤§ç¾', 'æ€§åˆ«': 'å¥³', 'å¹´é¾„': 18, 'ç”µè¯': 12345678910, 'ç”Ÿæ—¥': new Date()]
tasks.register('printCirculationElements') {
    for (i in 1..3) println 'æ™®é€šå¾ªç¯æ¬¡æ•°: ' + i //ä½¿ç”¨forå¾ªç¯éå†1åˆ°3çš„æ•°å­—
    for (element in numberList) println 'å¾ªç¯è¾“å‡ºListä¸­çš„å…ƒç´ : ' + element //ä½¿ç”¨for-inå¾ªç¯éå†List
    for (info in personInfoMap) println 'å¾ªç¯è¾“å‡ºMapä¸­çš„å…ƒç´ : ' + info.key + '---' + info.value //ä½¿ç”¨for-inå¾ªç¯éå†Map
}
//è‡ªå®šä¹‰é—­åŒ…(å‡½æ•°),æ²¡æœ‰å½¢å‚æˆ–åªæœ‰ä¸€ä¸ªå½¢å‚æ—¶å¯çœç•¥å¯¹å½¢å‚çš„å®šä¹‰,åªæœ‰ä¸€ä¸ªå½¢å‚æ—¶å‡½æ•°ä½“å†…ç”¨itä»£è¡¨å®ƒ.æ‰€æœ‰çš„é—­åŒ…éƒ½æ˜¯ groovy.lang.Closure ç±»çš„å®ä¾‹
def printOneMessage = { println it }
def mergeThreeMessage = { message1, message2, message3 -> //å®šä¹‰æ‹¥æœ‰ä¸‰ä¸ªå½¢å‚çš„é—­åŒ…(å‡½æ•°)
    message1 + '\n' + message2 + '\n' + message3 //é—­åŒ…ä¸­ä»¥æœ€åä¸€å¥è¯ä½œä¸ºæ–¹æ³•è¿”å›å€¼,å¯ä¸å†™return
}
tasks.register('printClosureMessage') {
    printOneMessage 'ä½ å¥½æˆ‘æ˜¯é—­åŒ…è¯·å¤šæŒ‡æ•™ğŸ˜˜'
    println mergeThreeMessage('æˆ‘çš„ä¸–ç•Œæ˜¯å…¨ä¸–ç•Œæœ€å¥½ç©çš„æ¸¸æˆ!', 'javaæ˜¯å…¨ä¸–ç•Œæœ€å¥½ç”¨çš„è¯­è¨€', 'gradleæ˜¯å…¨ä¸–ç•Œæœ€å¥½ç”¨çš„æ„å»ºå·¥å…·')
}

//å®šä¹‰ä¸€ä¸ªç±»,å…¼å®¹ä½¿ç”¨ä¼ ç»Ÿjavaæ–¹æ³•å®šä¹‰,é»˜è®¤ç±»å’Œå­—æ®µä»¥publicä¿®é¥°(å¯çœç•¥),å¹¶è‡ªåŠ¨ç”Ÿæˆå…¨å‚æ„é€ ,æ— å‚æ„é€ ,getterå’Œsetteræ–¹æ³•
class CustomerInfo {
    String name
    boolean isMale
    int age
    Long phoneNumber
    Date birthday

    @Override
    String toString() {
        "CustomerInfo{name=" + name + ", isMale=" + isMale + ", age=" + age + ", phoneNumber=" + phoneNumber + ", birthday=" + birthday + '}'
    }
}
//åˆ›å»ºå®ä¾‹æ—¶,ä½¿ç”¨ å­—æ®µå:å€¼ çš„æ–¹æ³•ä¸ºå…¶ä¸­çš„å­—æ®µèµ‹å€¼
def customerInfo = new CustomerInfo(name: 'ç‹å°æ˜', isMale: true, age: 18, phoneNumber: 12345678910, birthday: new Date())
tasks.register('printCustomerInfo') {
    println customerInfo
}

tasks.register('printOrderTest') { //åœ¨taskå®šä¹‰æ—¶ä½¿ç”¨doFirstæ–¹æ³•å’ŒdoLastæ–¹æ³•å¯ä»¥å†³å®šè¯¥taskåœ¨æ„å»ºæ—¶è¦æ‰§è¡Œä»€ä¹ˆæ–¹æ³•
    doFirst { //doFirstæ–¹æ³•åœ¨doLastæ–¹æ³•æ‰§è¡Œå‰å€’åºæ‰§è¡Œ
        println 'doFirst1 æ–¹æ³•æ‰§è¡Œ'
    }
    doFirst {
        println 'doFirst2 æ–¹æ³•æ‰§è¡Œ'
    }
    println 'æ ¸å¿ƒæ–¹æ³•æ‰§è¡Œ,æœ¬taskçš„åå­—æ˜¯: ' + it.name //nameä¸ºtaskçš„ä¸€ä¸ªå±æ€§å€¼
    doLast { //doLastæ–¹æ³•åœ¨doFirstæ–¹æ³•æ‰§è¡Œåé¡ºåºæ‰§è¡Œ
        println 'doLast1 æ–¹æ³•æ‰§è¡Œ'
    }
    doLast {
        println 'doLast2 æ–¹æ³•æ‰§è¡Œ'
    }
}

class CustomTask extends DefaultTask { //è‡ªå®šä¹‰taskç±»,ç»§æ‰¿DefaultTask,å¯ä»¥å®šä¹‰å¤šä¸ªæ–¹æ³•å€’åºæ‰§è¡Œ
    @Input
    //è¯¥å­—æ®µä¸èƒ½ä¸ºç©º,å¯ä»¥åœ¨å®šä¹‰taskæ—¶ä¼ å…¥å€¼
    String info = 'é»˜è®¤ä¿¡æ¯'

    @TaskAction
    //å°†è¯¥æ–¹æ³•è§†ä¸ºä¸€ä¸ªtask,å¯ä»¥è¢«æ³¨å†Œå‘ç°
    def printInfo1() {
        println 'ä½¿ç”¨ç¬¬ä¸€ä¸ªæ–¹æ³•æ‰“å°è¾“å‡º: ' + info
    }

    @TaskAction
    def printInfo2() {
        println 'ä½¿ç”¨ç¬¬äºŒä¸ªæ–¹æ³•æ‰“å°è¾“å‡º: ' + info
    }

    @TaskAction
    def printInfo3() {
        println 'ä½¿ç”¨ç¬¬ä¸‰ä¸ªæ–¹æ³•æ‰“å°è¾“å‡º: ' + info
    }
}

tasks.register('printCustomTaskInfo', CustomTask) { //ç¬¬äºŒä¸ªå‚æ•°æ˜¯è‡ªå®šä¹‰çš„taskç±»
    info = 'ä½ å¥½æˆ‘æ˜¯è‡ªå®šä¹‰ä»»åŠ¡è¯·å¤šæŒ‡æ•™' //åœ¨é—­åŒ…ä¸­å®šä¹‰è¯¥å­—æ®µçš„å€¼
}