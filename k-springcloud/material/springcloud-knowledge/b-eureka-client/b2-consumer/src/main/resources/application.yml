spring:
  application:
    name: CLIENT-CONSUMER
  cloud:
    openfeign:
      httpclient:
        hc5:
          enabled: true #é»˜è®¤ä¸ºtrue
      client:
        config: #æ­¤å¤„å¯ä»¥é…ç½®å…¨å±€å‚æ•°,ä¹Ÿå¯å•ç‹¬ä¸ºæŸä¸ªFeignæ¥å£é…ç½®å‚æ•°,è¿™é‡Œä»…ç”¨æ¥é…ç½®è¶…æ—¶ç›¸å…³çš„è®¾ç½®(å•ä½æ¯«ç§’)
          default: # default ä¸ºé»˜è®¤é…ç½®
            connect-timeout: 100000 #è¿æ¥è¶…æ—¶æ—¶é—´,å¦‚æœåœ¨è¯¥æ—¶é—´å†…æœªèƒ½ä¸ç½‘ç«™å»ºç«‹tcpæ¡æ‰‹è¿æ¥åˆ™æŠ¥é”™,é»˜è®¤10ç§’
            read-timeout: 600000 #è¯»å–è¶…æ—¶æ—¶é—´,å¦‚æœåœ¨è¯¥æ—¶é—´å†…æœªèƒ½ä»ç½‘ç«™ä¸­è·å–æ•°æ®åˆ™æŠ¥é”™,é»˜è®¤60ç§’
          feignApi: #è®¾ç½®ç‰¹å®šçš„FeignApié…ç½®,è¯¥é…ç½®çš„åç§°è¦ä¸@FeignClientæ³¨è§£ä¸­çš„name,valueæˆ–contextIdå±æ€§å€¼ä¸€è‡´,ä¸‰è€…ä¸­è¦ä¼˜å…ˆä»¥contextIdä¸ºä¸»
            connect-timeout: 1000 #1ç§’
            read-timeout: 2000 #2ç§’
server:
  port: 8090 #è¿™æ ·ä¸å…¶ä»–å®¢æˆ·ç«¯çš„åŒºåˆ†åº¦å¤§ä¸€äº›
eureka:
  instance:
    instance-id: CONSUMER
    prefer-ip-address: true
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka
management:
  endpoints:
    web:
      exposure:
        include: info,refresh #è¿™é‡Œå¤šå¼€æ”¾äº†ä¸€ä¸ª refresh ç«¯å£,ç”¨äºåœ¨é…ç½®ä¸­å¿ƒé…ç½®å‘ç”Ÿå˜åŒ–æ—¶æ‰‹åŠ¨åˆ·æ–°æœ¬åœ°é…ç½®,ä½¿ç”¨postæ–¹æ³•è®¿é—®
  info:
    env:
      enabled: true
info:
  app:
    name: CLIENT-CONSUMER
    status: CONSUMERå®¢æˆ·ç«¯è¿è½¬è‰¯å¥½

logging: #æ—¥å¿—é…ç½®
  level:
    org.giccqer.consumer.feign: debug

resilience4j: #æ–­è·¯å™¨é…ç½®
  circuitbreaker:
    configs:
      default: #é»˜è®¤é…ç½®,æ‰€æœ‰æ²¡æœ‰å•ç‹¬é…ç½®çš„ç†”æ–­å™¨å®ä¾‹é»˜è®¤ä½¿ç”¨è¯¥é…ç½®
        slidingWindowType: COUNT_BASED #æ»‘åŠ¨çª—å£ç±»å‹,å³åˆ¤æ–­å¤±è´¥ç‡çš„æ–¹å¼,COUNT_BASED è¡¨ç¤ºæŒ‰å¤±è´¥æ¬¡æ•°è®¡ç®—,TIME_BASED è¡¨ç¤ºæŒ‰ä¸€å®šæ—¶é—´å†…çš„è¯·æ±‚è®¡ç®—
        failureRateThreshold: 30.0 #å½“è¯·æ±‚å¤±è´¥ç‡è¾¾åˆ°å¤šå°‘ç™¾åˆ†æ¯”æ—¶,æ–­è·¯å™¨æ–­å¼€,å¹¶è¿›è¡ŒæœåŠ¡é™çº§
        sliding-window-size: 5 #è‹¥ä¸º COUNT_BASED ,åˆ™æŒ‰ç…§æœ€è¿‘å¤šå°‘æ¬¡çš„è¯·æ±‚è®¡ç®—å¤±è´¥ç‡.è‹¥ä¸º TIME_BASED ,åˆ™æŒ‰ç…§æœ€è¿‘å¤šå°‘ç§’å†…çš„è¯·æ±‚è®¡ç®—å¤±è´¥ç‡
        minimum-number-of-calls: 5 #è‡³å°‘æ¥æ”¶åˆ°å¤šå°‘æ¬¡è¯·æ±‚æ‰å¼€å§‹è®¡ç®—å¤±è´¥ç‡,ä¸€èˆ¬ä¸ sliding-window-size é…ç½®ç›¸åŒ
        waitDurationInOpenState: 3s #ä»æ–­å¼€çŠ¶æ€åˆ°åŠå¼€çŠ¶æ€éœ€è¦ç­‰å¾…çš„ç§’æ•°
        permitted-number-of-calls-in-half-open-state: 5 #åŠå¼€çŠ¶æ€ä¸‹,å…è®¸é€šè¿‡çš„è¯·æ±‚æ•°é‡
        slowCallDurationThreshold: 5s #è‹¥æŸäº›è¯·æ±‚æ‰€éœ€æ—¶é—´è¶…è¿‡å¤šå°‘ç§’,åˆ™è¿™äº›è¯·æ±‚è§†ä¸ºæ…¢è°ƒç”¨.æ…¢è°ƒç”¨ä¸€èˆ¬è¢«è§†ä¸ºå¤±è´¥è°ƒç”¨
        slowCallRateThreshold: 50.0 #å½“æ…¢è°ƒç”¨çš„ç™¾åˆ†æ¯”è¶…è¿‡å¤šå°‘æ—¶,æ–­è·¯å™¨æ–­å¼€
        automatic-transition-from-open-to-half-open-enabled: true #å³ä½¿æ²¡æœ‰è¯·æ±‚,æ˜¯å¦ä¼šè‡ªåŠ¨å°†æ–­è·¯å™¨ä»æ–­å¼€çŠ¶æ€è½¬æ¢ä¸ºåŠå¼€çŠ¶æ€
        record-exceptions: #ä¼šè¢«è®¡å…¥å¤±è´¥ç‡çš„å¼‚å¸¸çš„ç™½åå•
          - java.lang.RuntimeException
        #ignore-exceptions: #ä¸ä¼šè¢«è®¡å…¥å¤±è´¥ç‡çš„å¼‚å¸¸çš„é»‘åå•
    instances: #ä¸ºæŸäº›ç‰¹å®šçš„å®ä¾‹å•ç‹¬é…ç½®ç†”æ–­å™¨å‚æ•°,å¯é€‰
      sendRandomNumberService: #å…¶å±æ€§è¦ä¸ @CircuitBreaker æ³¨è§£ä¸­çš„ name å±æ€§ä¸€è‡´
        baseConfig: default #ç»§æ‰¿é»˜è®¤é…ç½®,è‹¥æœ‰éœ€è¦å¯ä»¥å•ç‹¬é…ç½®æŸäº›å‚æ•°,å¯é…ç½®çš„å‚æ•°åŒä¸Šæ‰€å†™
        failureRateThreshold: 50.0
        waitDurationInOpenState: 5s
  ratelimiter: #é™æµå™¨ç›¸å…³çš„é…ç½®,ä¸ç†”æ–­å™¨ç›¸ä¼¼,ä¹Ÿå¯ä»¥å•ç‹¬é…ç½®æŸä¸ªé™æµå™¨å®ä¾‹
    configs:
      default:
        limitForPeriod: 5 #æ¯ä¸ªå‘¨æœŸæœ€å¤šå…è®¸é€šè¿‡çš„è¯·æ±‚æ•°é‡,è¶…è¿‡è¿™ä¸ªå€¼çš„è¯·æ±‚å°†ä¼šè¢«é™åˆ¶
        limitRefreshPeriod: 3s #æ¯ä¸ªå‘¨æœŸçš„æ—¶é•¿
        timeoutDuration: 0ms #è¢«é™åˆ¶çš„è¯·æ±‚æœ€å¤šç­‰å¾…è¢«é™åˆ¶å¤šä¹…,è‹¥è¶…è¿‡è¿™ä¸ªæ—¶é•¿åˆ™ä¸å†ç­‰å¾…è€Œæ˜¯ç›´æ¥è¿”å›å¼‚å¸¸,è®¾ç½®ä¸º0åˆ™ä¸ä¼šç­‰å¾…

custom-cars: #è‡ªå®šä¹‰çš„ä¸€äº›é…ç½®,åŠ è½½é¡ºåºä¸­ç­‰,ä¼šè¦†ç›–bootstrapæ–‡ä»¶ä¸­çš„é…ç½®ä½†ä¼šè¢«é…ç½®ä¸­å¿ƒçš„é…ç½®æ‰€è¦†ç›–
  train: ğŸš„ğŸš„ğŸš„
  automobile: ğŸš˜ğŸš˜ğŸš˜
  plane: ğŸ›«ğŸ›«ğŸ›«